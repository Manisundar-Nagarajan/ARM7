//Write an ECP to receive and transmit your name through UART of LPC2129 

#include<LPC21XX.H>
void UART_config(void);
void UART_Tx(unsigned char);
unsigned char UART_Rx(void);
void UART_Str(unsigned char *);

int main()
	{
		unsigned char c[30];
		unsigned char i=0;
	  PINSEL0|=0x5;
		UART_config();
		while(1)
		{
		c[i]=UART_Rx();
			if(c[i]=='\r')
			{
				c[i]='\0';
				break;
			}
			i++;
		}		
		UART_Str(c);
	}
	
	void UART_config(void)
	{		
				U0LCR=0x83;
				U0DLL=97;
				U0DLM=0;
				U0LCR=0x03;
	}
	
	void UART_Tx(unsigned char ch)
	{
		U0THR=ch;
		while(((U0LSR>>5)&1)==0);
	}
	
	unsigned char UART_Rx(void)
	{
		while((U0LSR&1)==0);
		return U0RBR;
	}
	
	void UART_Str(unsigned char *ch)
	{
	while(*ch)
	UART_Tx(*ch++);
	}
