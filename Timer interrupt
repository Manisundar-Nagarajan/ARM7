//Blinking 2 LEDs, 1 should be blinked for 500ms using timer interrupt and another should be blinked when we press the switch
#include<LPC21XX.H>
#define LED1 1<<16
#define LED2 1<<17
#define SW 14
int flag=0;
void timer_int(void) __irq
{
T0IR=0x01;

if(flag==0)
{
IOSET1=LED1;
flag=1;
}
else
{
IOCLR1=LED1;
flag=0;
}
VICVectAddr=0;
}

int main()
{
IODIR1=LED1|LED2;
T0MR0=7500000-1;
T0MCR=0x03;
VICIntSelect=0;
VICVectCntl0=(0x20)|4;
VICVectAddr0=(unsigned long)timer_int;
VICIntEnable=1<<4;
T0TCR=0x01;

while(1)
{
if(((IOPIN0>>SW)&1)==0)
IOCLR1=LED2;
else
IOSET1=LED2;
}
}
